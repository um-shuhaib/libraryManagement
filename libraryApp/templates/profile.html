{% extends 'dashboard.html' %}

{% block main %}
<div class="d-flex flex-column w-100 vh-100 align-items-center justify-content-center">
    <div class="container mt-4">

        <div class="card shadow-lg p-4" style="max-width: 450px; margin:auto;">

            <div class="text-center">

                <img src="{{ user.profile.url }}" class="rounded-circle mb-3"
                    style="width: 120px; height:120px; object-fit: cover;">



                <h4 class="fw-bold">{{ user.first_name }}</h4>
                <p class="text-muted mb-3">@{{ user.username }}</p>

            </div>

            <hr>

            <div class="mt-3">
                <p><span class="fw-bold">Email:</span> {{ user.email }}</p>
                <p><span class="fw-bold">Phone:</span> {{ user.phone }}</p>
            </div>

            <div class="text-center mt-3">
                <a href="{% url 'profileupdate' user.id%}" class="btn btn-primary px-4">
                    Edit Profile
                </a>
            </div>

        </div>



        <div id="section-table" class="card mb-4">
            <div class="card-header">
                <i class="fas fa-table me-1"></i>
                History Of {{issue.user}}
            </div>
            <div class="card-body">
                <table id="datatablesSimple" class="datatable">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th>Author</th>
                            <th>ISBN</th>
                            <th>Issued</th>
                            <th>Due</th>
                            <th>Returned</th>
                            <th>status</th>


                        </tr>
                    </thead>
                    <tfoot>
                        <tr>
                            <th>Title</th>
                            <th>Author</th>
                            <th>ISBN</th>
                            <th>Issued</th>
                            <th>Due</th>
                            <th>Returned</th>
                            <th>status</th>

                        </tr>
                    </tfoot>
                    <tbody>
                        {% for issue in history %}
                        <tr>
                            
                            <td>{{issue.book}}</td>
                            <td>{{issue.book.author}}</td>
                            <td>{{issue.book.isbn}}</td>
                            <td>{{issue.issue_date}}</td>
                            <td>{{issue.due_date}}</td>
                            <td>{{issue.returned_date}}</td>
                            <td>{{issue.status}}</td>
                            


                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

    </div>


</div>
{% endblock %}